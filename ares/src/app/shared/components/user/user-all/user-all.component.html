<button class="btn btn-primary mb-3 mt-3" (click)="createNew()" data-toggle="tooltip" title="Criar novo usuário">
    Novo Usuário
</button>
<div *ngIf="users$ | async as users else loading">
    <table class="table table-hover">
        <thead>
            <tr>
                <th scope="col">
                    Nome
                </th>
                <th scope="col">
                    email
                </th>
                <th scope="col">

                </th>
            </tr>
        </thead>
        <tbody>
            <tr *ngFor="let user of users">
                <td>
                    {{user.name}}
                </td>
                <td>
                    {{user.email}}
                </td> 
                <td>
                    <button (click)="onMail(user.id)" class="btn" data-toggle="tooltip" title="Enviar dados por email">
                        <span class="material-icons">
                            mark_email_read
                        </span>
                    </button>
                    <button (click)="onEdit(user.id)" class="btn" data-toggle="tooltip" title="Editar dados deste usuário">
                        <span class="material-icons">
                            edit_note
                        </span>
                    </button>
                    <button *ngIf="!user.lockedDate" (click)="onLock(user.id)" class="btn" data-toggle="tooltip" title="Bloquear usuário">
                        <span class="material-icons">
                            lock
                        </span>
                    </button>
                    <button *ngIf="user.lockedDate"  (click)="onLock(user.id)" class="btn" data-toggle="tooltip" title="Desbloquear usuário.">
                        <span class="material-icons">
                            lock_open
                        </span>
                    </button>
                    <button (click)="onExtend(user.id)" class="btn" data-toggle="tooltip" title="Prorrogar mais 90 dias">
                        <span class="material-icons">
                            history
                        </span>
                    </button>
                </td>
            </tr>
        </tbody>
    </table>
</div>
<ng-template #loading>
    <ares-loading class="spinner"></ares-loading>
</ng-template>